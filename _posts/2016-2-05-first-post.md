---
layout: post
title: Basecamp 이야기!
---
Basecamp 교육을 받기 시작한 지 1달이 지났다. 
앞으로 이렇게 또 1달이 지나면 이제 현업에 배치된다는 생각을 하니 아직은 막연하고 두렵다... 
그럴수록 교육도 열심히 듣고 책도 열심히 읽고 실력을 더 쌓아야겠다는 생각을 했다!

2주차 ~ 4주차 동안, 우리 조는 기획했던 내용대로 잘 완성했던 것 같다. 

``크롤링``
나는 뉴스기사를 수집해오는 크롤링 부분을 맡았다. 
크롤링은 예전에도 개발해 본적이 있었기 때문에 어렵지 않게 완성했고, 10분 간격으로 수행하는 것도 스프링에서 리눅스의 크론탭 형식으로
지원되는 것이 있어서 쉽게 개발할 수 있었다. 

그런데 연합뉴스 측에서 동일한 기사를 여러 카테고리에 중복으로 올리게 되면
우리 `뉴스피디아`에서도 중복으로 수집된다는 문제가 있었다. 
발표 전날! 이 문제를 해결하고자 코드를 리팩토링하다가 갑자기 기사가 2개씩 긁어오는 더 큰 문제가 발생했다. 
원인을 밝히기 위해 여러번 반복해서 로그도 찍어보고 디버깅도 해보았지만 아직도 해결하지 못했다. 정말 답답하다. 
잘 작동하다가 동작 10시간 정도 지난 어느 순간부터 기사를 두 개씩 긁어오는 문제가 발생한다.... 
테스트 코드를 작성하며 원인이 밝혀졌으면 좋겠다 ㅠ 

``댓글``
크롤링 다음으로 댓글부분을 맡았다. 
댓글은 사용자가 등록하면 DB에 추가하고, 추가된 내용을 화면에 보여주는 간단하고 기본적인 작업이다. 
처음엔 추가나 삭제 이후 reloading 시키도록 하였는데 기사 아래에 보여지는 댓글이다 보니 
새로고침보다는 ajax 형식으로 추가되는 것이 좋을 것 같다는 팀원들의 의견이 있어서 처음으로 ajax를 사용해 개발해 보았다.
front-end를 많이 해보지 않아서 자바스크립트나 ajax를 쓰는 것에 익숙하지 않았는데 이번에 많이 배울 수 있었다.
하지만 옆에서 뚝딱 만들어 내는 팀원들을 보면서 더 많이 공부해야겠다는 생각이 들었다. 

``댓글 pagination``
TUI를 이용해 댓글 pagination을 구현했다. 사실 API 문서를 보고 개발하는 것에 익숙하지 않아서 TUI를 이용해 개발한다는 것이 많이 힘들었다. 또, 자바 스크립트에 익숙하지 않아서 소스를 봐도 무슨말인지 이해되지 않았다. 그래서 우리 팀원들을 비롯해 다른 팀 사람들한테도 계속 물어보고 귀찮게 했던것 같다. 
완성된 소스코드를 보면 길지도 않고 어렵지 않은 내용 같은데 그걸 적용한다는 과정이 어려웠던 것 같다. 
front-end 단은 더더더 많이 배워야 겠다.

``payco oauth``
팀원 모두가 oauth 인증 관련 경험을 하라고 해서 나는 페이코 인증을 맡았다. 
페이코는 tips에 설명이 잘 되어 있어서 차근차근 따라서 구현했다. 
그런데 alpha 서버로 배포하는 과정에서 회원개발팀으로 인증필터로 신청했기 때문에 소스코드를 수정해야 했었다. 
인증필터 형식은 쿠키에 NEO-SES 이름으로 페이코 서버가 보내준 accessToken을 저장하면 인증필터가 이를 파악해서 
로그인한 사용자의 정보를 제공해주는 형식이다. 
나는 쿠키에 등록하는 과정에서 브라우저를 한번 갔다가 다시 controller 단으로 돌아와야 한다는 사실을 몰라 시간을 많이 날렸다....
결국 새벽 5시에 페이코 인증을 완료했는데 발표당일 페이코 인증 부분에서 에러 페이지가 발생했다. 우리팀에 유일한 흠이 된 것 같아 팀원들에게 많이 미안했다. 바로 수정해서 다시 서버에 배포하였고 안정적으로 수행하기 위해 인증필터 방식이 아닌 ACL로 변경해서 다시 진행했다. 파란만장했지만 좋은 경험이었고 덕분에 완벽하게 알 수 있어서 재밌었다 :) 

``LOGGER``
다른 조들은 log4j등을 활용하여 로그 기록을 잘 남기는 것 같았는데 우리조는 system.out.println() 형식으로 진행해서 서버에 배포하니 로그를 파악하기 어려웠다. 수석님께서도 로그를 잘 남기라고 하셔서 우리도 slf4j를 이용해 로그 기록을 남겼다. 
기존에 출력하던 내용을 모두 바꾸고 또 try-catch 문에 있던 stacktrace 구문도 다 로그를 이용해 바꾸는 작업을 수행했다. 
확실히 디버깅하기 편해진 것 같다. 


